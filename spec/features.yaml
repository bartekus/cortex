# SPDX-License-Identifier: AGPL-3.0-or-later
# Cortex Feature Registry
# Authoritative source of truth for Cortex capabilities and contracts.

features:
  # --- Core System ---
  - id: CORE_REPO_CONTRACT
    title: "Repository System Contract"
    governance: approved
    implementation: done
    spec: "spec/system/contract.md"
    owner: bart
    group: core
    tests: []
    depends_on: []

  # --- Release & Distribution ---
  - id: REL_ARTIFACT_LAYOUT
    title: "Release Artifact Layout"
    governance: approved
    implementation: done
    spec: "spec/release/contract.md"
    owner: bart
    group: release
    tests: []
    depends_on:
      - CORE_REPO_CONTRACT

  # --- CLI Interface ---
  - id: CLI_CONTRACT
    title: "CLI Command Interface"
    governance: approved
    implementation: done
    spec: "spec/cli/contract.md"
    owner: bart
    group: cli
    tests: []
    depends_on:
      - CORE_REPO_CONTRACT

  # --- CLI Commands ---
  - id: CLI_COMMAND_RUN
    title: "CLI Command: Run"
    governance: approved
    implementation: done
    spec: "spec/cli/run.md"
    owner: bart
    group: cli
    tests: []
    depends_on: [CLI_CONTRACT]

  - id: CLI_COMMAND_CONTEXT
    title: "CLI Command: Context"
    governance: approved
    implementation: done
    spec: "spec/cli/context.md"
    owner: bart
    group: cli
    tests: []
    depends_on: [CLI_CONTRACT]

  - id: CLI_COMMAND_FEATURES
    title: "CLI Command: Features"
    governance: approved
    implementation: done
    spec: "spec/cli/features.md"
    owner: bart
    group: cli
    tests: []
    depends_on: [CLI_CONTRACT]

  - id: CLI_COMMAND_GOV
    title: "CLI Command: Gov"
    governance: approved
    implementation: done
    spec: "spec/cli/gov.md"
    owner: bart
    group: cli
    tests: []
    depends_on: [CLI_CONTRACT]

  - id: CLI_COMMAND_STATUS
    title: "CLI Command: Status"
    governance: approved
    implementation: done
    spec: "spec/cli/status.md"
    owner: bart
    group: cli
    tests: []
    depends_on: [CLI_CONTRACT]

  - id: CLI_COMMAND_COMMIT
    title: "CLI Command: Commit"
    governance: approved
    implementation: done
    spec: "spec/cli/commit.md"
    owner: bart
    group: cli
    tests: []
    depends_on: [CLI_CONTRACT]

  - id: CLI_COMMAND_FEATURE
    title: "CLI Command: Feature"
    governance: approved
    implementation: done
    spec: "spec/cli/feature.md"
    owner: bart
    group: cli
    tests: []
    depends_on: [CLI_CONTRACT]

  # --- XRAY Engine ---
  - id: XRAY_INDEX_FORMAT
    title: "XRAY Index Format"
    governance: approved
    implementation: done
    spec: "spec/xray/index-format.md"
    owner: bart
    group: xray
    tests: []
    depends_on:
      - CORE_REPO_CONTRACT

  - id: XRAY_SCAN_POLICY
    title: "XRAY Scan Policy"
    governance: approved
    implementation: done
    spec: "spec/xray/scan-policy.md"
    owner: bart
    group: xray
    tests: []
    depends_on:
      - XRAY_INDEX_FORMAT

  - id: XRAY_CLI
    title: "XRAY CLI"
    governance: approved
    implementation: done
    spec: "spec/xray/cli.md"
    owner: bart
    group: xray
    tests: []
    depends_on: [XRAY_SCAN_POLICY]

  # --- MCP Protocol ---
  - id: MCP_ROUTER_CONTRACT
    title: "MCP Router Contract"
    governance: approved
    implementation: done
    spec: "spec/mcp/contract.md"
    owner: bart
    group: mcp
    tests: []
    depends_on:
      - CORE_REPO_CONTRACT

  # --- MCP Tools ---
  - id: MCP_TOOLS
    title: "MCP Tools"
    governance: approved
    implementation: done
    spec: "spec/mcp/tools.md"
    owner: bart
    group: mcp
    tests: []
    depends_on: [MCP_ROUTER_CONTRACT]

  - id: MCP_SNAPSHOT_WORKSPACE_SUBSTRATE
    title: "MCP Snapshot & Workspace Substrate"
    governance: approved
    implementation: done
    spec: "spec/mcp/snapshot-workspace-v1.md"
    owner: bart
    group: mcp
    tests: ['tests/harness/run_golden_test.ts']
    depends_on: [MCP_TOOLS]

  - id: MCP_SCHEMA_LINT_RULES
    title: "MCP Schema Lint Rules"
    governance: approved
    implementation: done
    spec: "spec/schemas/SCHEMA_LINT_RULES.md"
    owner: bart
    group: schemas
    tests: ['tests/harness/schema_lint_test.ts']
    depends_on: [MCP_TOOLS]

  # --- Skills & Reports ---
  - id: SKILLS_REGISTRY
    title: "Skills Registry"
    governance: approved
    implementation: done
    spec: "spec/skills/registry.md"
    owner: bart
    group: skills
    tests: []
    depends_on: [CLI_COMMAND_RUN]

  - id: REPORTS_CORE
    title: "Reports: Core"
    governance: approved
    implementation: done
    spec: "spec/reports/core.md"
    owner: bart
    group: reports
    tests: []
    depends_on: [CLI_COMMAND_COMMIT]
